<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PassPort | The Developer's Passkey SDK</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    
    <script src="https://passportbycw.netlify.app/sdk.js"></script>
</head>
<body>

    <nav>
        <div class="container">
            <span class="logo">ðŸ”‘ PassPort</span>
            <div class="nav-links">
                <a href="#demo">Live Demo</a>
                <a href="docs.html" class="docs-link">See Docs</a>
                <a href="#" class="nav-cta">Get API Key</a>
            </div>
        </div>
    </nav>

    <header class="hero">
        <div class="container">
            <div class="badge">CDN Status: <span id="cdn-status">Checking...</span></div>
            <h1>Authentication that <span class="highlight">feels like magic.</span></h1>
            <p>The lightweight SDK that replaces passwords with biometrics. Hosted on Netlify Edge for global performance.</p>
            <div class="hero-btns">
                <a href="#demo" class="btn-primary">Try the Demo</a>
                <a href="docs.html" class="btn-secondary">Read the Docs</a>
            </div>
        </div>
    </header>

    <section id="demo" class="demo-section">
        <div class="container">
            <div class="section-header">
                <h2>Proof of Concept</h2>
                <p>This demo is powered by the <code>sdk.js</code> file hosted on your Netlify CDN.</p>
            </div>
            
            <div class="auth-card">
    <div id="demo-ui">
        <div class="input-wrapper">
            <input type="email" id="user-email" placeholder="Enter developer email">
        </div>
        <button id="demo-register" class="btn-action">Run passport.register()</button>
        <button id="demo-login" class="btn-action outline">Run passport.login()</button>
        
        <div class="terminal-window">
            <div class="terminal-header">
                <span class="dot red"></span>
                <span class="dot yellow"></span>
                <span class="dot green"></span>
                <span class="terminal-title">passport-sdk-logs</span>
            </div>
            <div id="terminal-body" class="terminal-body">
                <div class="log-line info">> SDK initialized from passportbycw.netlify.app</div>
            </div>
        </div>
    </div>
</div>
    </section>

    <script>
    // Connect UI to Terminal Emulator
const term = document.getElementById('terminal-body');

function log(type, text) {
    const div = document.createElement('div');
    div.className = `log-line ${type}`;
    div.innerText = type === 'cmd' ? `> ${text}` : text;
    term.appendChild(div);
    term.scrollTop = term.scrollHeight;
}

// Check CDN on Load
window.addEventListener('load', () => {
    if (window.passport) {
        log('success', 'ðŸ”‘ PassPort SDK Loaded & Ready');
    } else {
        log('info', 'âŒ SDK not detected. Check CDN link.');
    }
});

// Demo: Register
document.getElementById('demo-register').addEventListener('click', async () => {
    const email = document.getElementById('user-email').value || "dev@example.com";
    log('cmd', `passport.register("${email}")`);
    
    try {
        const cred = await passport.register(email);
        log('success', 'âœ” Device challenge signed');
        log('info', `ID: ${cred.id.substring(0, 15)}...`);
    } catch (err) {
        log('info', `Error: ${err.message}`);
    }
});

// Demo: Login
document.getElementById('demo-login').addEventListener('click', async () => {
    log('cmd', 'passport.login()');
    try {
        const auth = await passport.login();
        log('success', 'âœ” Biometric identity verified');
        log('info', `Signature: ${auth.response.signature.toString().substring(0, 15)}...`);
    } catch (err) {
        log('info', `Error: ${err.name}`);
    }
});
    </script>

</body>
</html>
