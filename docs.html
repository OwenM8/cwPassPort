<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation | PassPort SDK</title>
    <link rel="stylesheet" href="docs.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Fira+Code&display=swap" rel="stylesheet">
</head>
<body>

    <aside class="sidebar">
        <div class="sidebar-logo">
            <a href="index.html">ðŸ”‘ PassPort</a>
        </div>
        <nav class="sidebar-nav">
            <div class="nav-group">
                <h4>Getting Started</h4>
                <a href="#introduction">Introduction</a>
                <a href="#installation">Installation</a>
            </div>
            <div class="nav-group">
                <h4>Client SDK</h4>
                <a href="#registration">.register()</a>
                <a href="#authentication">.login()</a>
            </div>
            <div class="nav-group">
                <h4>Advanced</h4>
                <a href="#errors">Error Handling</a>
                <a href="#security">Security Model</a>
            </div>
        </nav>
    </aside>

    <main class="content">
        
        <section id="introduction">
            <div class="badge">SDK v1.0.0</div>
            <h1>Introduction</h1>
            <p>PassPort is a lightweight wrapper for the WebAuthn API. It eliminates the need for developers to handle complex binary encoding, challenges, and browser-specific quirks when implementing Passkeys.</p>
            
            
        </section>

        <section id="installation">
            <h2>Installation</h2>
            <p>To begin using PassPort, include the SDK via our global Edge CDN. This will initialize a <code>passport</code> object on the global window.</p>
            
            <div class="code-block">
                <code id="install-tag">&lt;script src="https://passportbycw.netlify.app/sdk.js"&gt;&lt;/script&gt;</code>
                <button class="copy-btn" onclick="copyCode('install-tag')">Copy</button>
            </div>
        </section>

        <section id="registration">
            <h2>User Registration</h2>
            <p>Registration creates a new public/private key pair. The private key stays on the device, and the public key is returned for you to store in your database.</p>
            
            <div class="code-block">
                <pre><code id="reg-js">
// Simply pass the user's email or username
try {
  const credential = await passport.register("user@example.com");
  
  // Send 'credential' to your server to save
  console.log("Success:", credential.id);
} catch (err) {
  console.error("User cancelled or hardware error:", err);
}</code></pre>
                <button class="copy-btn" onclick="copyCode('reg-js')">Copy</button>
            </div>
        </section>

        <section id="authentication">
            <h2>Authentication (Login)</h2>
            <p>To log in a returning user, call the login method. The browser will automatically filter and show valid passkeys for your domain.</p>
            
            <div class="code-block">
                <pre><code id="login-js">
try {
  const assertion = await passport.login();
  
  // Verify assertion.response.signature on your backend
  console.log("Authenticated ID:", assertion.id);
} catch (err) {
  alert("Verification failed");
}</code></pre>
                <button class="copy-btn" onclick="copyCode('login-js')">Copy</button>
            </div>
        </section>

        <section id="errors">
            <h2>Error Handling</h2>
            <p>The SDK returns standard DOM exceptions. The most common errors include:</p>
            <table>
                <thead>
                    <tr>
                        <th>Error Name</th>
                        <th>Context</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>NotAllowedError</code></td>
                        <td>User clicked "Cancel" or the biometric prompt timed out.</td>
                    </tr>
                    <tr>
                        <td><code>SecurityError</code></td>
                        <td>The app is running on an insecure domain (HTTP).</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="security">
            <h2>Security Model</h2>
            <p>PassPort uses the <b>FIDO2 L1</b> security standard. All challenges are cryptographically signed using the device's Secure Enclave. Your users' biometric data (fingerprints/FaceID) never leaves their device and is never sent to our servers or yours.</p>
        </section>

        <footer>
            <p>&copy; 2026 PassPort Auth SDK. Built with ðŸ’™ for developers.</p>
        </footer>
    </main>

    <script>
        function copyCode(id) {
            const text = document.getElementById(id).innerText;
            navigator.clipboard.writeText(text).then(() => {
                const btn = event.target;
                btn.innerText = "Copied!";
                setTimeout(() => btn.innerText = "Copy", 2000);
            });
        }
    </script>

</body>
</html>
